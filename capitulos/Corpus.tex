%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%% CORPUS
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\chapter{Corpus: MachismoTwitter, DAMT (detección automática machismo en twitter), Twittmach, Machistwitter, Machistlab}
\fancyhead[RE]{\textsc{CAPÍTULO} \thechapter. Corpus}
\label{ch:Corpus}

\noindent Este capítulo describe la metodología utilizada para la creación de un corpus en castellano que permita entrenar un sistema de detección del lenguaje machista. De este modo, se realiza un corpus utilizando un conjunto de términos en castellano que, por lo general, pueden llevar a actitudes machistas. Idealmente, el conjunto generado contendrá suficientes ejemplos de tweets machistas que serán utilizados como entrada del sistema de clasificación.

Al comienzo de esta sección, se analiza el problema y se estudian las expresiones y términos más empleados en textos con comportamiento machista. Se realiza una búsqueda preliminar para observar si con los términos estudiados se encuentran ejemplos de textos machistas y, finalmente, se define el método para extraer la información de Twitter y evaluar las características principales del corpus obtenido.


\section{Machismo en Twitter}
\label{sec:Met_Eval}
\noindent En este apartado, se van a definir todas las características que deben de presentar los textos seleccionados para considerarse machistas y la lista de términos o expresiones seleccionados para generar el corpus. Como primer paso, se han estudiado diversas referencias para recopilar aquellas expresiones más comunes que pueden conllevar a comportamientos machistas o sexistas. Posteriormente, se han identificado las expresiones más representativas y se han realizado diversas búsquedas para evaluar la cantidad de contenido machista que contienen dichas expresiones en Twitter. Finalmente, se han obtenido de la red social Twitter los mensajes que contenían estas expresiones utilizando su API. Durante este estudio solo se han considerado expresiones en castellano.

Las expresiones o términos que se buscan son aquellas que, de un modo u otro, minusvaloran el papel de las mujeres en nuestra sociedad, incentiven el abuso o acoso hacia las mujeres o no les permita expresarse libremente.
Existen gran cantidad de expresiones y términos que se utilizan a diario de modo consciente o no que minimizan el papel de la mujer en la sociedad. En \cite{TwitterSexism} la periodista Ana Isabel Bernal-Triviño propone a través de un hilo en su cuenta de Twitter recopilar frases de violencia machista que las mujeres hayan sufrido en algún momento. Estas expresiones tienen mucho valor para el análisis pues un gran número de mujeres aporta su experiencia personal frente al machismo. En muchos tweets se repiten términos como ``niñata'' o ``a fregar'' que se utilizan para referirse a las mujeres de forma despectiva.

Existen refranes, dichos populares y tópicos que se utilizan diariamente y que refuerzan la idea de que las mujeres son inferiores al hombre en una tarea determinada. Por ejemplo, la expresión ``Mujer al volante, peligro constante'' o ``¡Mujer tenía que ser!'' minusvalora la habilidad de las mujeres para realizar una tarea específica solo por ser mujeres. Otras muchas expresiones machistas se recopilaron en un trabajo realizado en un instituto de Albacete \cite{ElPais}.

Pese a que, como se ha presentado, existen gran cantidad de expresiones que conllevan actitudes machistas, ha sido necesario recoger ciertos términos más generales que permitan establecer una buena relación entre tweets con contenido machista y aquellos que no presentan este tipo de lenguaje. Esto será muy importante a la hora de entrenar el sistema automático de clasificación. En este caso, se han seleccionado las siguientes expresiones: ``feminazi'', '``a la cocina'', '``a fregar'', ``marimacho'', ``ninata'', '``mujer tenias que ser'', '``las feministas'',``en tus dias'', ``zorra'','``como una mujer'', '``como una nina'', '``pareces una fulana'', '``pareces una puta'','``no ha probado un hombre'','``loca del'', '``obsesionada con el machismo'', '``para ser mujer'','``para ser chica'','``hombre que te aguante'','``acabaras sola'', ``mojigata'', '``mucho feminismo pero'','``mujer al volante'', '``las mujeres no deberian'', '``A las mujeres hay que'', '``odio a las mujeres'','``las mujeres de hoy en dia'', ``nenaza'', ``lagartona''.


% Please add the following required packages to your document preamble:
% \usepackage{booktabs}
\begin{table}[]
	\centering
	\begin{tabular}{@{}lll@{}}
		\toprule
		\textbf{Número de término} & \textbf{Texto} &  \\ \midrule
		1 & ``feminazi" &  \\
		2 & ``a la cocina" &  \\
		3 & ``a fregar" &  \\
		4 & ``marimacho" &  \\
		5 & ``ninata" &  \\
		6 & ``mujer tenias que ser" &  \\
		7 & ``las feministas" &  \\
		8 & ``en tus dias" &  \\
		9 & ``zorra" &  \\
		10 & ``como una mujer" &  \\
		11 & ``como una nina" &  \\
		12 & ``pareces una fulana" &  \\
		13 & ``pareces una puta" &  \\
		14 & ``no ha probado un hombre" &  \\
		15 & ``loca del" &  \\
		16 & ``obsesionada con el machismo" &  \\
		17 & ``para ser mujer" &  \\
		18 & ``para ser chica" &  \\
		19 & ``hombre que te aguante" &  \\
		20 & ``acabaras sola" &  \\
		21 & ``mojigata" &  \\
		22 & ``mucho feminismo pero" &  \\
		23 & ``mujer al volante" &  \\
		24 & ``las mujeres no deberian" &  \\
		25 & ``A las mujeres hay que" &  \\
		26 & ``odio a las mujeres" &  \\
		27 & ``las mujeres de hoy en dia" &  \\
		28 & ``nenaza" &  \\
		29 & ``lagartona" &  \\ \bottomrule
	\end{tabular}
	\caption{Términos machistas elegidos para la creación del corpus}
	\label{my-label}
\end{table}


El término ``feminazi'' es una forma de relacionar, de forma claramente despectiva, al feminismo con el nazismo. De este modo, es una palabra utilizada ampliamente en redes sociales y foros de toda España que conllevan actitudes machistas. En Twitter se encuentran mensajes como:

	``\textit{Uy habló de inventos la feminazi}''
	
	
	``\textit{Pero que violento!!! De cinco billetes, solo en uno aparece una mujer, esto es inaceptable!!! \#feminazi}''

Sin embargo, existen otros ejemplos que se utiliza la expresión sin conllevar actitudes machistas:

``\textit{Si quieres pensar que el origen del hashtag deviene de la búsqueda del rigor histórico, a tope. Estás en tu derecho, igual que yo en un texto de opinión de valorarlo totalmente al contrario. ¿No te convencen mis argumentos? Intentemos debatir. ¿Usas "feminazi"? Te quedas solo}''

Los términos ``A la cocina'' y ``A fregar'' se utilizan de modo despectivo para denigrar a la mujer o restar importancia a sus argumentos. Como en el caso del término anterior, se ha comprobado que existe una relación aceptable entre mensajes machistas y aquellos que no conllevan estas actitudes. Algunos ejemplos de contenido machista:


``\textit{Hay que anunciar por megafonia que te marches a tu casa a fregar  que estas  haciendo el ridículo .tu y las borregos}''


``\textit{De los relatos corazon... anda a la cocina a hacee algo productivo antes de seguir diciendo pavadas}''

Ejemplos que no expresan actitudes machistas:


``\textit{Me dio sed, pero me da miedo ir a la cocina}''


``\textit{Me molesta que a esta hora me dé hambre porque me da miedo ir a la cocina por algo para comer}''


Las palabras ``Marimacho'' y ``Niñata'', dependiendo del contexto, se utilizan como calificativos despectivos a la mujer. Ejemplos despectivos serían los tweets encontrados:


``\textit{@IrantzuVarela hace unos sketches poniéndose unas barbas postizas despeinadas. Es lo que antes se llamaba un marimacho. El igualitarismo ha hecho mucho daño. Uno tiene que mandar y otro obedecer acríticamente.}''


``\textit{@carmenro\_ Mal follada y retrasada. Das pena niñata. Tienes un concepto muy equivocado de los andaluces y Andalucía. Gente como tú son las qué no queremos en nuestra comunidad. Aquí hay gente muy trabajadora y humilde. Envidia es lo que tienes.}''

Es importante aclarar, que en el proceso de etiquetado, el término ``Marimacho'' y ``niñata'' no se ha considerado machista si no se encontraba en un contexto muy claro. De forma general, ``marimacho'' se utiliza para indicar que una mujer presenta rasgos masculinos algo que, aún pudiendo ser un tipo de abuso, no se ha considerado machista. Por otra parte, ``niñata'' se utiliza para indicar que una mujer es inmadura, algo que de forma general no sería machista.

Las expresiones ``Mujer tenías que ser'' y ``Las Feministas'' se utilizan para descalificar a las mujeres por el hecho de pertenecer a un colectivo. Ejemplos encontrados en Twitter son los siguientes:


``\textit{Mujer tenias que ser para dar una respuesta tan pobre}''


``\textit{@NiicoMilan Coincido eso es el verdadero machismo que tiene un respeto absoluto por la mujer más no lo que quieren hacer las feministas pasar por machismo.Nadie puede lastimar a una mujer}''


La expresión ``en tus días'' se utiliza como descalificativo para referirse a las mujeres por tener el periodo:



``\textit{@PriscilaTrs\_ Bb se delicia de culo no te dejaría descansar ni cuando estés en tus días mamasita rica me pasaría dándole placer mañana tarde y noche a ese delicioso culo hasta hacerte gritar de placer}''


``\textit{Seguro era porque andabas en tus días. xd}''


El término ``zorra'' se utiliza continuamente en Twitter con actitudes machistas:



``\textit{zorra se puede saber pork no me sigues?}''


``\textit{Dedicado a las estúpidas feminazis que dicen que a las mujeres hay que creerles todo solo por ser mujeres.SIN PRUEBAS NO HAY DELITO.https://t.co/XNx3fk3m5K}''

Otra expresión que minusvalora a las mujeres considerada es ``como una mujer'' para comparar una acción que se realiza peor únicamente por ser mujer:


``\textit{Un hombre sin barba es como una mujer sin nalgas}''


``\textit{\#UnMadrazoPara Cesar Gaviria, que habla como una mujer en proceso de parto.}''


Otra expresión similar a la anterior sería ``como una niña'':


``\textit{No te vas a ir de aquí sin decirme qué sitio es ese. Y más te vale responder y no comportarte como una niña pequeña, niña pequeña.}''


El término ``nenaza'' se utiliza también como descalificativo en Twitter:

``\textit{A mi me ha pasado igual. Los lobos vestidos de corderos que lo mismo quieren matar fachas que lloran como una nenaza no puedo con ellos}''

``\textit{@marianorajoy ha perdido la Moncloa como una nenaza  porque no ha sabido defender como hombre y estadista a la Nación. Se va como los cobardes. Por la puerta de atrás. El peor presidente de España }''

La expresión ``pareces una fulana'' se utiliza como descalificativo por la apariencia física de las mujeres:


``\textit{Te acabo de ver en el Telenoticiasde TV3. Maquillate mejor, pareces una fulana.}''

``\textit{¡Lávate esa cara que pareces una fulana!}''


Otra expresión muy similar a la anterior sería ``pareces una puta'':


``\textit{Deja de gritar hermano, pareces una puta}''

``\textit{@emuyshondt @alcaldia\_ss @SSesTuyo podes administrar o no, porque te vibis quejan maje, mas bien pareces una puta}''


Otra expresión machista utilizada en Twitter es ``no ha probado un hombre'':


``\textit{que se pueda esperar de una mamerta  @ktikariza que no lee no estudia va a la provincia  tomar cerveza una millenian que no ha probado un hombre, el hambre o la guerra, estas juventud esta empecinada a decir y tener too regalado a costa de si }''

``\textit{pobre mujer, no ha probado un hombre en su vida.}''

La expresión ``loca del'' se utiliza de forma despectiva hacia las mujeres:

``\textit{@Madrekoraje @PhilAMellows @CasosAislados Todo los hombres tenemos que tener miedo a cruzarnos con una loca del coño que se invente lo que le vengan en gana y por el mero hecho de tener papo haya que creerla.}''

``\textit{Odio a esta clase de feministas, loca del coño.}''

La frase ``obsesionada con el machismo'' se utiliza para restar importancia a la denuncia del machismo que realizan las mujeres:


``\textit{Típica obsesionada con el machismo, el patriarcado y franco. De ahí no la sacas. No evoluciona}''

``\textit{Feliz día de la gente tontaca obsesionada con el machismo}''

Otra expresión que minusvalora las habilidades de la mujer sería ``para ser mujer'':


``\textit{@damita2808 @berege7 @Mariagtriana Y los ojos? Uff demasiado dureza en la mirada para ser chica...no?}''

``\textit{Para ser mujer habla bastante decente ...}''


Otra expresión similar a la anterior sería ``para ser chica'':

``\textit{@GreatBlastG5 Mi madre mide bien para ser chica, y mi padre es de estatura media, lo de los yogures te lo decía a ti porque se que me mientes prro}''

``\textit{Sos un poco masculina como para ser chica, ¿sabías?}''

Otra expresión machista utilizada en Twitter es ``hombre que te aguante'':


``\textit{Chingón el hombre que te aguante hasta en tus días. }''

``\textit{Damaris, cásate con tu "marido (Ana)" porque no vas a encontrar un hombre que te aguante.}''


Otra expresión machista utilizada en Twitter es ``acabaras sola'':


``\textit{\#SomosLaAudiencia21F  SOFIA:   ¡ eres patética, no, lo siguiente ¡  Deja a ALEJANDRO en paz de una vez. 
	ERES TAN PREPOTENTE que quieres ver a todos los hombres arrastrándose por ti.
	ACABARÁS SOLA......... TIEMPO AL TIEMPO....}''

``\textit{Nunca encontrarás un hombre que te sorpote. Acabarás sola, vieja, con gatos y escuchando techno}''

Otro insulto muy recurrente es ``mojigata'':


``\textit{\#EnLaPedaNuncaFalta la mojigata persinada que con 3 tequilas encima es más fácil que la tabla del 1. }''

``\textit{@Mony\_loreH Y CON ESA CARITA ME MOJIGATA QUE TIENE.....SON LAS PEORES......}''

La expresión ``mucho feminismo pero'' se utiliza para minusvalorar el papel del feminismo en la sociedad:

``\textit{Pues menuda hija de mierda si tienes a tu padre cargando con TODAS las tareas del hogar. Mucho feminismo, pero de compartir las labores no te enseñó nada.}''

``\textit{Mucho feminismo pero Christian Gray se las hace mojar qué tipo hdp este pibe jajaja}''

La expresión ``mujer al volante'' se utiliza habitualmente para minusvalorar la capacidad de las mujeres para realizar una tarea:


``\textit{por la prudencia con la que tomo la bajada creo que se trata de una mujer al volante }''

``\textit{No hay nada más peligroso que una mujer al volante con prisa . Nada, ni MALO De presidente es tan peligroso}''


Otra expresión que suele conllevar actitudes machistas ``las mujeres no deberían'':


``\textit{Las mujeres no deberían de tener ni voz ni voto, no están preparadas para mantener una familia menos un gobierno , son unas mantenidas}''

``\textit{Por eso es que las mujeres no deberían tener derecho al voto}''

La frase ``A las mujeres hay que'' se utiliza habitualmente para discriminarlas o tratarlas de un modo distinto por su género:


``\textit{Como dice mi papá: ``a las mujeres hay que quererlas, no entenderlas''}''

``\textit{Hoy en día a las mujeres hay que tenerle un cuidado cabron. Acuérdate que estamos en la era del chismin, la era mierdosa. Te da un abrazo y después dice que le rozaste la teta. Wao! Pero si nos abrazamos! Obvio que las tetas feas esas van a rozar cabrona!}''


Otra expresión que suele conllevar actitudes machistas ``odio a las mujeres'':


``\textit{Odio a las mujeres pero me atraen sexualmente}''

``\textit{A lo que hemos llegado, lo unico que van a conseguir las feministas es el odio a las mujeres}''


Otra expresión que suele conllevar actitudes machistas ``las mujeres de hoy en dia'':

``\textit{Las mujeres de hoy en día son tan doble moral; no puedes decirle a una chica que trae el botón desabrochado de la blusa, por que se emperra y te tacha de pervertido, ah pero si no le dices te va peor. Tampoco es que sea un santo pero que no mamen. \#LaHubieraDejadoEnseñarTeta }''

``\textit{Se enojan las mujeres de hoy en día que uno les diga que parecen hombres, más insensibles que una piedra y más inútiles en las actividades de a diario, puta no sean tan maletas prepárense, por lo menos yo hice mi obra hoy ya se defiende en un montón de áreas de nada...}''

Por último, el insulto ``lagartona'' se utiliza de forma despectiva hacia las mujeres:

``\textit{@pescadosgori ¿Solo le quieres por el dinero? ¡Ay ay ay lagartona! https://t.co/7HE8PrXdDk}''

``\textit{No quiero depender de nadie. No soy una lagartona ni la zorrita de nadie, si no un hombre}''


\section{Generación del corpus, ``\textit{Crawler}''}
\label{sec:Metric_Eval}

\noindent En este apartado, se especifica el proceso utilizado para extraer la información deseada de Twitter. En la fase de creación del corpus se ha utilizado el API de Twitter a través del paquete \textit{rtweet} disponible para el lenguaje de programación R. 

Las especificaciones iniciales para el desarrollo del \textit{Crawler} implican la recolección diaria 100 tweets para cada término contenido en la tabla 4.1, idealmente, haría un total de 2900 tweets diarios. De este modo, no se superaría el límite diario del API de Twitter y se recopilaría bastante información cada día. Al llegar a 15000 tweets para un término, se considera que hay suficiente información y se dejará de buscar los tweets que lo contengan.

Al término del proceso de \textit{crawling}, se eligirán aleatoriamente 150 tweets para cada término. Por tanto, será un requisito obtener, al menos, 150 tweets para cada término para poder ser considerado.

Para esta tarea, el proceso de \textit{crawling} se ha extendido a lo largo de las fechas 1/07/2018-31/12/2018, haciendo un total de 6 meses de información. Durante este periodo, el \textit{Crawler} recolectó un total de 181792 tweets para todos los términos. Para cada \textit{tweet}, el API de Twitter permite acceder a 42 atributos distintos:

\begin{itemize}
\itemsep0em 
\item status\_id: identificador único del tweet.             
\item created\_at: fecha de creación del tweet.      
\item user\_id: identificador único de usuario.              
\item screen\_name: alias que el usuario utiliza para identificarse.
\item text: mensaje del tweet.                  
\item source: dispositivo/cliente utilizado para publicar el mensaje.                
\item reply\_to\_status\_id: si es una respuesta, indica el id del tweet original.    
\item reply\_to\_user\_id: si es una respuesta, indica el id del usuario original.      
\item reply\_to\_screen\_name: si es una respuesta, indica el alias del usuario original.
\item is\_quote: indica si el tweet es citado.              
\item is\_retweet: indica si el tweet es un retweet.
\item favorite\_count: conteo aproximado del número de favoritos.        
\item retweet\_count: conteo aproximado del número de tweets.         
\item hashtags: hastags utilizados en el tweet.              
\item symbols: símbolos contenidos en el mensaje.               
\item urls\_url: URLs contenidas en el texto del tweet.              
\item urls\_t.co: URLs en formato acortado.             
\item urls\_expanded\_url: URLs en formato expandido.     
\item media\_url: URLs de los elementos subidos con el tweet.             
\item media\_t.co: URLs acortadas de los elementos subidos con el tweet.           
\item media\_expanded\_url: URLs expandidas de los elementos subidos con el tweet.  
\item media\_type: tipo de elemento subido junto al tweet (por ejemplo, foto).            
\item ext\_media\_url: URLs del elemento externo adjunto al tweet.         
\item ext\_media\_t.co: URLs acortada del elemento externo adjunto al tweet.                
\item ext\_media\_expanded\_url: URLs expandidas del elemento externo adjunto al tweet.         
\item ext\_media\_type: tipo del elemento externo adjunto al tweet.        
\item mentions\_user\_id: identificadores de otros usuarios nombrados en el tweet.      
\item mentions\_screen\_name: alias de otros usuarios nombrados en el tweet.  
\item lang: idioma del tweet.                  
\item quoted\_status\_id: identificador del tweet citado.       
\item quoted\_text: texto del tweet citado.           
\item retweet\_status\_id: si es un retweet, indica el identificador del tweet original.     
\item retweet\_text: texto del retweet original.
\item place\_url: URL que representa la localidad y aporta información adicional.            
\item place\_name: nombre de la localidad.            
\item place\_full\_name: nombre de la localidad con información añadida (por ejemplo, provincia).       
\item place\_type: tipo de localidad (por ejemplo, ciudad).            
\item country: país.               
\item country\_code: abreviatura del país.          
\item geo\_coords: longitud y latitud del tweet.            
\item coords\_coords: longitud y latitud del tweet en distinto formato.         
\item bbox\_coords: un cuadro delimitador de coordenadas que encierra este lugar          
\item latitud: latitud del tweet.               
\item longitud: longitud del tweet.             
  
\end{itemize}


\subsection{Resultados de la creación del corpus}
\label{sec:Resultados} 
\noindent A continuación, se presentan las características y estructura principal del corpus generado. 

La tabla 4.2 muestra el número de tweets recopilado por término. Como se puede observar, se ha recopilado información para todos los términos pero existen 4 de ellos para los que se han recopilado menos de 150 mensajes y que serán descartados por no disponer de suficiente información. Además, es importante remarcar que la cantidad de información varía notablemente según los términos, a partir del término 11 la cantidad de información por término se reduce en más de la mitad.
% Please add the following required packages to your document preamble:
% \usepackage{booktabs}
\begin{table}[]
	\centering
	\begin{tabular}{@{}ll@{}}
		\toprule
		\textbf{Término} & \textbf{N} \\ \midrule
		como una mujer & 15094 \\
		feminazi & 15093 \\
		a la cocina & 15087 \\
		zorra & 15086 \\
		loca del & 15084 \\
		como una nina & 15080 \\
		las feministas & 15076 \\
		ninata & 15032 \\
		en tus dias & 14190 \\
		a fregar & 14013 \\
		mojigata & 6008 \\
		marimacho & 5770 \\
		para ser mujer & 4693 \\
		nenaza & 4358 \\
		odio a las mujeres & 2749 \\
		lagartona & 2006 \\
		A las mujeres hay que & 1845 \\
		las mujeres no deberian & 1285 \\
		las mujeres de hoy en dia & 991 \\
		mujer al volante & 962 \\
		mucho feminismo pero & 852 \\
		mujer tenias que ser & 683 \\
		pareces una puta & 474 \\
		para ser chica & 180 \\
		acabaras sola & 50 \\
		hombre que te aguante & 37 \\
		obsesionada con el machismo & 8 \\
		pareces una fulana & 5 \\
		no ha probado un hombre & 1 \\ \bottomrule
	\end{tabular}
	\caption{Número de tweets por término encontrados}
	\label{my-label}
\end{table}
Como se ha comentado, el \textit{crawler} recolectó información desde el 01/07/2018 hasta 31/12/2018. En la figura 4.1 se puede observar el número de tweets recopilados por día. 
\begin{center}
	\includegraphics[scale=0.8,keepaspectratio]{imagenes/tweets_dia.png} %[width=4cm,,keepaspectratio]
	\captionof{figure}{Tweets recopilados diariamente}	
\end{center}
Como se puede observar, el número de tweets recopilados diariamente dista mucho de los 2400 que podrían generarse si se encontraran los 100 tweets objetivo para cada término. Además, a partir del día 29/11/2018 se reducen los tweets recopilados al encontrar los 15000 tweets objetivo para alguno de los términos. De todos estos tweets, se puede observar en la figura 4.2 como España es el país que más genera.

\begin{center}
	\includegraphics[scale=0.8,keepaspectratio]{imagenes/tweets_pais.png} %[width=4cm,,keepaspectratio]
	\captionof{figure}{Número de tweets por país}	
\end{center}

Otra característica interesante es el uso de \textit{hastags} en los tweets, en total, se han recopilado 15218 hastags. En la figura 4.3 se pueden observar los términos más utilizados. El \textit{hastags} más utilizado coincide con uno de los términos utilizados para la recopilación de los datos por el \textit{crawler}. El resto parecen estar relacionados con el programa televisivo ``Gran Hermano''. En la figura 4.4 se puede observar como España es el país que más \textit{hastags} utiliza.

\begin{center}
	\includegraphics[scale=0.8,keepaspectratio]{imagenes/hastags.png} %[width=4cm,,keepaspectratio]
	\captionof{figure}{Número de hastags}	
\end{center}

\begin{center}
	\includegraphics[scale=0.8,keepaspectratio]{imagenes/hastags_tweet_pais.png} %[width=4cm,,keepaspectratio]
	\captionof{figure}{Número de hastags por país}	
\end{center}


Para identificar si los tweets utilizan una gramática adecuada, se ha observado las palabras OOV (\textit{out of vocabulary}) utilizando un diccionario español. En la figura 4.5 se muestra como los Estados Unidos es el país con más OOV por tweet.

\begin{center}
	\includegraphics[scale=0.8,keepaspectratio]{imagenes/oov.png} %[width=4cm,,keepaspectratio]
	\captionof{figure}{OOV por país}	
\end{center}

Por último, se han estudiado los enlaces por tweets. En total, se han recopilado 25539 enlaces para todos los mensajes. En la figura 4.6 se observa como España es el país que más enlaces por tweet utiliza.

\begin{center}
	\includegraphics[scale=0.8,keepaspectratio]{imagenes/enlaces_tweet_pais.png} %[width=4cm,,keepaspectratio]
	\captionof{figure}{Número medio de URLs utilizadas por país}	
\end{center}

\section{Etiquetado del corpus}
\label{sec:Col_Eval}

\noindent Tras la ejecución del \textit{crawler}, es necesario componer el corpus a etiquetar para poder entrenar un algoritmo de aprendizaje supervisado.

Para realizar el corpus, se han utilizado las 24 etiquetas con más de 150 tweets que se pueden observar en la tabla 4.2. Para cada término, se realiza un muestreo aleatorio de 150 tweets haciendo un total de 3600 tweets para ser etiquetados. Para todos los términos, se ha comprobado que la separación temporal entre sus tweets es más de un día, de este modo, se evitan mensajes que puedan ser conversaciones dentro del mismo día.

Teniendo en cuenta el objetivo principal del presente trabajo, se ha propuesto la clasificación del contenido del corpus generado en tres categorías distintas: machista, no machista y dudoso. A continuación, se definen las etiquetas propuestas:

\begin{itemize}
	\itemsep0em 
	\item MACHISTA: tweets que contienen connotaciones machistas/ofensivas hacia las mujeres. Los tweets que pertenecen a esta categoría deben de contener actitudes discriminatorias o hacia las mujeres por su sexo. Ejemplo:
	``\textit{@EmanuelGPA Lo irónico es que lo dice una mujer, que ``naturalmente'' debería callarse y dedicarse a la cocina, limpiar y criar hijos}''
	En este ejemplo, se infravalora a la mujer de un modo expreso.
	             
	\item NO\_MACHISTA: tweets que no contienen connotaciones machistas. Ejemplo:
	``\textit{¿Por qué cuando ven a una chica con pelo corto piensan que es bi, torta o marimacho? ...Capaz es solo un look o que el pelo largo le da mucho calor... Y si es...¿Cual es el problema?}''
	Dentro de esta categoría se clasifican también mensajes xenófobos y ofensivos en general pero que no discriminan a las mujeres por su sexo. Ejemplo: 
	``\textit{@kenia773 @LuisCarlos POR CIERTO, EN TU FOTO DE PERFIL SE PUEDE OBSERVAR QUE ERES BASTANTE VARONIL, ASÍ QUE SI NO ERES MARIMACHO, EMPIEZA A SERLO}''
	\item DUDOSO: tweets que, dependiendo del contexto, no presente en el tweet, podrían ser machistas (si el fragmento ofensivo se refiriese a mujeres). Ejemplo:        
	``\textit{@hazteoir @PSOE Más vale que se marche a fregar!}''
	Para poder considerar el tweet machista es necesario una referencia expresa a las mujeres, pese a que en el texto se pueda realizar una comparación con una mujer mediante una expresión machista.                  
	
\end{itemize}

El proceso de etiquetado ha sido llevado a cabo por 3 anotadores que han analizado los 3600 tweets que conforman el corpus para asignar una de las 3 etiquetas propuestas. Para ello, se ha desarrollado una guía de etiquetado en la que se explican las etiquetas, se proponen ejemplos de cada una de ellas y se establecen las normas de entrega. \todo{Añadir la guía como ANEXO} El etiquetado se llevó a cabo entre los meses de Enero y Marzo de 2019 mediante la herramienta ``Google Sheets'' un entorno de trabajo colaborativo online que permite la creación de hojas de cálculo.

Durante el anotado del corpus, cada uno de los 3 etiquetadores propone una clase de las 3 disponibles para cada tweets. Al término del etiquetado, se decidirá por votación de los 3 anotadores la etiqueta final. En caso de desacuerdo total entre los 3, un cuarto etiquetador decidirá la clase final para el tweet.


\subsection{Dificultades encontradas en el etiquetado del corpus}
\label{sec:Col_Eval}

\noindent Uno de los problemas más importantes del procesado del lenguaje natural es la ambigüedad, este fenómeno provoca que una misma expresión actúe con un significado distinto dependiendo del contexto en el que se encuentre. Además, la complejidad inherente al uso del lenguaje, el uso incorrecto de la gramática del idioma y fenómenos como la ironía o el sarcasmo dificultan la tarea de detección de actitudes machistas.

En la tarea de etiquetado, una de las dificultades más importantes ha sido detectar señales textuales que indiquen comportamientos machistas debido a los efectos descritos. Para ilustrar este efecto, se pueden considerar los siguientes ejemplos:


	``\textit{@tonifreixa La zorra guardando las gallinas. ¡¡ Que se encargue Rosell ¡¡ Bueno..., cuando salga de la cárcel. Cinismo en grado máximo.}''

	``\textit{@marijopellicer @radchiaru @\_lxuli Jajajaja si no sabes cuanto odio a las mujeres tengo por favor no veas enemigos donde no los hay.}''

	``\textit{Cuando subes a tu amiga la lagartona al Uber porque ya andaba malacopeando https://t.co/DcnK5ZGuL4}''

	``\textit{Mucho feminismo pero a la primera de cambio..... https://t.co/y2McecsgcT}''



En los ejemplos anteriores, los efectos del uso de la lengua dificultan la clasificación en alguna de las etiquetas propuestas. En el primer ejemplo, el término ``zorra'' no es evidente si se utiliza como referencia a un animal o como un sinónimo de prostituta.

El segundo ejemplo, se utiliza un tono irónico que dificulta su clasificación. El usuario utiliza la expresión ``cuanto odio a las mujeres'' con sarcasmo por lo que no es posible afirmar que conlleve una actitud machista. En el tercer ejemplo, se podría entender que el término ``lagartona'' se refiere a un animal, de hecho, el tweet enlaza una imagen de un lagarto en el interior de un coche, sin embargo, en este caso el término hace referencia a prostituta. Por último, se presenta un tweet en el que se nombra al feminismo sin posicionarse en contra o a favor, en este caso sin poder detectar una actitud machista expresa.


Otra de las dificultades encontradas durante el proceso de etiquetado ha sido la clasificación de tweets en los que el usuario que escribe el mensaje cita un contenido machista, en ocasiones con el que está en desacuerdo. Este hecho se puede observar en los siguientes ejemplos:


	``\textit{Pareces una puta con ese pantalón. - Mi hermano de 13 cuando me vio con un pantalón de cuero}''

	``\textit{Cada vez más a menudo (todos lo días) mi padre me dice que las mujeres no deberían recibir premios, trabajar en puestos superiores, que son putas, y que deben quedarse en casa y servir al hombre y criar hijos.}''

	``\textit{@localgothgirI Me pasa todo el tiempo, incluso, cuando me va mal, siempre recibo insultos y comentarios como tenía que ser mujer las mujeres no deberían jugar este juego". A veces se me quitan las ganas de seguir jugando}''

	``\textit{@mariarodd17 Tía ella diciendo cosas tipo: es que las mujeres de hoy en día son muy sueltas y son unas acosadoras, estás ahora van preparadas con to y van a los hombres diciéndoles vamos a pasar un rato que ni te cobro y ellos los pobres si tienen pareja tienen que ir preparados para no caer}''


En los anteriores, hay contexto suficiente para comprender que se cita un contenido machista como ejemplo para apoyar su desacuerdo con ese tipo de lenguaje. Sin embargo, se ha decidido incluir tanto citas, chistes o incluso críticas al machismo como mensajes machistas. El objetivo principal ha sido para identificar todo tipo de expresión machista y, de un modo, determinar eso la cantidad de machismo existente en las redes sociales.


\subsection{Resultados del etiquetado del corpus}
\label{sec:Col_Eval}

\subsubsection{Acuerdo etiquetadores}
\label{sec:Col_Eval}

\noindent Para valorar el acuerdo alcanzado por los etiquetadores en su labor se ha optado por la evaluación del coeficiente kappa de Cohen.

Se realizó una evaluación de la medida kappa en 2 puntos: Al completar el 20\% del etiquetado de todo el corpus y al etiquetar el corpus completo. En la primera evaluación, se obtuvieron los resultados de la tabla 4.3. En este caso, se valoró que para el número de clases distintas este valor del coeficiente kappa era insuficiente y se revisaron los patrones de etiquetas propuestos por cada uno de los etiquetadores. De este modo, se detectaron los siguientes problemas:


% Please add the following required packages to your document preamble:
% \usepackage{booktabs}
\begin{table}[]
	\centering
	\begin{tabular}{@{}ll@{}}
		\toprule
		\textbf{} & \textbf{Kappa} \\ \midrule
		Etiquetador 1-2 & 0,5 \\
		Etiquetador 1-3 & 0,44 \\
		Etiquetador 2-3 & 0,58 \\
		\textbf{Media Etiquetadores} & \textbf{0,51} \\ \bottomrule
	\end{tabular}
	\caption{Kappa obtenido con el 20\% del etiquetado}
	\label{my-label}
\end{table}


\begin{itemize}
	\itemsep0em 
	\item El etiquetador 3 utilizó más que el resto la etiqueta MACHISTA. Se concluyó que confundía tweets con actitudes xenofobas por tweets con actitudes machistas. 
	\item El etiquetador 1 utilizó más que el resto la etiqueta DUDOSO. Se revisaron sus criterios de valoración de acuerdo con la guía de anotación.    
	
\end{itemize}


Tras revisar los criterios de cada uno de los dos etiquetadores se obtuvieron los resultados de la tabla 4.4. En este caso, el coeficiente kappa alcanzado supera el valor 0.6 indicado como un resultado adecuado para este tipo de tarea.

% Please add the following required packages to your document preamble:
% \usepackage{booktabs}
\begin{table}[]
	\centering
	\begin{tabular}{@{}ll@{}}
		\toprule
		\textbf{} & \textbf{Kappa} \\ \midrule
		Etiquetador 1-2 & 0,76 \\
		Etiquetador 1-3 & 0,78 \\
		Etiquetador 2-3 & 0,74 \\
		\textbf{Media Etiquetadores} & \textbf{0,76} \\ \bottomrule
	\end{tabular}
	\caption{Kappa obtenido con el 20\% del etiquetado tras la corrección}
	\label{my-label}
\end{table}

Por último, se volvió a valorar la métrica kappa al término del etiquetado, alcanzando los resultados de la tabla 4.5. La distribución de etiquetas elegida por cada anotador se observa en la figura 4.7.

% Please add the following required packages to your document preamble:
% \usepackage{booktabs}
\begin{table}[]
	\centering
	\begin{tabular}{@{}ll@{}}
		\toprule
		\textbf{} & \textbf{Kappa} \\ \midrule
		Etiquetador 1-2 & 0,68 \\
		Etiquetador 1-3 & 0,68 \\
		Etiquetador 2-3 & 0,88 \\
		\textbf{Media Etiquetadores} & \textbf{0,75} \\ \bottomrule
	\end{tabular}
	\caption{Kappa obtenido con el 100\% del etiquetado}
	\label{my-label}
\end{table}

\begin{center}
	\includegraphics[scale=0.4,keepaspectratio]{imagenes/etiquetadores_final.png} %[width=4cm,,keepaspectratio]
	\captionof{figure}{Porcentaje de etiquetas elegidor por etiquetador}	
\end{center}



\subsubsection{Exploración de la clase}
\label{sec:Col_Eval}

\noindent En el presente apartado se presentan los resultados derivados del proceso de etiquetado. En concreto, se va a estudiar la relación de la clase asignada por los etiquetadores con dos de los tipos de atributos disponibles en el corpus: atributos numéricos y categóricos.

Para el corpus final, se han asignado los valores de clase reflejados en la tabla 4.6. Como se puede observar, debido a la naturaleza del problema, los valores de la clase están muy desbalanceados para el valor ``NO\_MACHISTA'', contando este con más del 60\% de los tweets del corpus.


% Please add the following required packages to your document preamble:
% \usepackage{booktabs}
\begin{table}[]
	\centering
	\begin{tabular}{@{}lll@{}}
		\toprule
		\textbf{Etiqueta} & \textbf{Veces asignada} &  \\ \midrule
		NO\_MACHISTA & 2209 (61.36\%) &  \\
		MACHISTA & 1119 (31.08\%) &  \\
		DUDOSO & 272 (7.5\%) &  \\ \bottomrule
	\end{tabular}
	\caption{Distribución de la clase para el corpus final}
	\label{my-label}
\end{table}

Utilizando los valores de la clase etiquetada, se han representado las variables numéricas de las que se disponen en el corpus (figura 4.8). Dos de las más destacadas se pueden observar en la figura 4.9, donde se representan el tamaño de los tweets en número de caracteres y de \textit{retweets}. Un aspecto a destacar es que los tweets DUDOSOS son, en media, mucho más cortos que el resto de valores de la clase, sin embargo, los tweets MACHISTAS Y NO\_MACHISTAS siguen una distribución muy similar en cuanto al número de caracteres.

\begin{center}
	\includegraphics[scale=0.25,keepaspectratio]{imagenes/numericas_pairplot.png} %[width=4cm,,keepaspectratio]
	\captionof{figure}{Representación de valores numéricos}	
\end{center}


\begin{center}
	\includegraphics[scale=0.8,keepaspectratio]{imagenes/numericas_relevantes_pairplot.png} %[width=4cm,,keepaspectratio]
	\captionof{figure}{Representación de valores numéricos relevantes}	
\end{center}

En cuanto a las variables categoricas, en la figura 4.10 se representan los valores para cada atributo respecto de los valores de la clase.

\begin{center}
	\includegraphics[scale=0.3,keepaspectratio]{imagenes/categoricas_pairplot.png} %[width=4cm,,keepaspectratio]
	\captionof{figure}{Representación de variables categóricas}	
\end{center}

